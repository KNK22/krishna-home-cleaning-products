<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Krishna Home Cleaning Products</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#2e7d32">

<link rel="stylesheet" href="style.css">
</head>

<body>

<!-- =====================================================
     HEADER
     Brand name + trust indicators
===================================================== -->

<div class="header">
  <div class="header-title">
    Krishna Home Cleaning Products
  </div>

  <div class="trust-strip">
    âœ” Hygienic & Safe &nbsp; â€¢ &nbsp;
    âœ” Trusted Quality &nbsp; â€¢ &nbsp;
    âœ” Affordable Prices
  </div>
</div>

<hr class="header-divider">

<!-- =====================================================
     CART (Homepage)
     Uses shared cart pill style
===================================================== -->

<div class="cart-row">
  <a href="cart.html" class="header-pill cart-btn" id="cartBtn">
    ðŸ›’ Cart (0)
  </a>
</div>

<!-- =====================================================
     PRODUCTS GRID
===================================================== -->

<div class="grid" id="grid"></div>

<!-- =====================================================
     DATA SOURCE
===================================================== -->

<script src="data.js"></script>

<script>
/* =====================================================
   CART COUNT UPDATE
===================================================== */

function updateCartCount() {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  let count = 0;
  cart.forEach(item => count += Number(item.qty) || 0);
  document.getElementById("cartBtn").innerText =
    "ðŸ›’ Cart (" + count + ")";
}

document.addEventListener("DOMContentLoaded", updateCartCount);
window.addEventListener("focus", updateCartCount);
window.addEventListener("storage", updateCartCount);

/* =====================================================
   RENDER PRODUCTS FROM data.js
===================================================== */

const grid = document.getElementById("grid");

Object.values(PRODUCTS).forEach(p => {
  const card = document.createElement("div");
  card.className = "card";

  card.innerHTML = `
    <div class="img-box"
         style="background-image:url('./images/${p.imageFolder}/cover.jpg')">
    </div>

    <h3>${p.name}</h3>
    <p>From â‚¹${p.basePrice}</p>
  `;

  card.onclick = () => {
    location.href = "product.html?id=" + p.id;
  };

  grid.appendChild(card);
});
</script>

</body>
</html>
