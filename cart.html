<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Your Cart</title>

<style>
/* ===============================
   GLOBAL
=============================== */
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #fff;
}

/* ===============================
   HEADER
=============================== */
header {
  position: relative;
  display: flex;
  align-items: center;
  padding: 14px 16px;
  border-bottom: 1px solid #eee;
}

.header-btn {
  padding: 10px 18px;
  border-radius: 999px;
  border: 1px solid #ccc;
  background: #fff;
  font-weight: 600;
  cursor: pointer;
}

header h2 {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  margin: 0;
  font-size: 22px;
}

/* ===============================
   CART CONTAINER
=============================== */
#cart {
  max-width: 1000px;
  margin: auto;
  padding: 16px;
}

/* ===============================
   EMPTY CART
=============================== */
.empty-cart {
  text-align: center;
  margin: 60px 0;
  color: #666;
  font-size: 16px;
}

/* ===============================
   CART ITEM
=============================== */
.cart-item {
  display: grid;
  grid-template-columns: 140px 1fr auto;
  gap: 20px;
  padding: 18px 0;
  border-bottom: 1px solid #eee;
}

.cart-item img {
  width: 140px;
  height: 140px;
  object-fit: cover;
  border-radius: 14px;
}

/* ===============================
   ITEM DETAILS
=============================== */
.cart-info h4 {
  margin: 0 0 6px;
  font-size: 20px;
}

.cart-info ul {
  margin: 6px 0 0 18px;
  padding: 0;
  color: #555;
  font-size: 14px;
}

.cart-info li {
  margin-bottom: 4px;
}

/* ===============================
   QTY + PRICE
=============================== */
.qty-box {
  display: flex;
  align-items: center;
  gap: 6px;
}

.qty-box button {
  width: 30px;
  height: 30px;
  border: 1px solid #aaa;
  border-radius: 6px;
  background: #fff;
  cursor: pointer;
}

.qty-box span {
  min-width: 16px;
  text-align: center;
  font-weight: 600;
}

.item-price {
  margin-top: 8px;
  text-align: right;
  font-weight: 700;
  font-size: 16px;
}

/* ===============================
   FOOTER
=============================== */
#totalBox {
  max-width: 1000px;
  margin: auto;
  padding: 18px 16px;
  border-top: 1px solid #eee;
}

#total {
  font-size: 22px;
  font-weight: 700;
  margin-bottom: 14px;
}

#orderBtn {
  width: 100%;
  padding: 16px;
  font-size: 18px;
  background: #22c55e;
  color: #fff;
  border: none;
  border-radius: 14px;
  cursor: pointer;
}

#orderBtn:disabled {
  background: #bbb;
  cursor: not-allowed;
}
</style>
</head>

<body>

<header>
  <button class="header-btn" onclick="history.back()">‚Üê Back</button>
  <h2>Your Cart</h2>
</header>

<div id="cart"></div>

<div id="totalBox">
  <div id="total">Total: ‚Çπ0</div>
  <button id="orderBtn" disabled>Place Order</button>
</div>

<script>
/* ===============================
   LOAD CART
=============================== */
let cart = JSON.parse(localStorage.getItem("cart")) || [];

/* ===============================
   RENDER CART
=============================== */
function renderCart() {
  const cartBox = document.getElementById("cart");
  const totalEl = document.getElementById("total");
  const orderBtn = document.getElementById("orderBtn");

  cartBox.innerHTML = "";

  if (cart.length === 0) {
    cartBox.innerHTML = `
      <div class="empty-cart">
        üõí<br><br>
        <strong>Your cart is empty.</strong><br>
        Add products to continue.
      </div>
    `;
    totalEl.innerText = "Total: ‚Çπ0";
    orderBtn.disabled = true;
    return;
  }

  let total = 0;
  orderBtn.disabled = false;

  cart.forEach((item, index) => {
    const subtotal = item.price * item.qty;
    total += subtotal;

    cartBox.innerHTML += `
      <div class="cart-item">
        <img src="${item.image}">
        
        <div class="cart-info">
          <h4>${item.name}</h4>

          ${
            item.type === "combo" && item.items
              ? `<ul>
                  ${item.items.map(i => `<li>${i}</li>`).join("")}
                </ul>`
              : ""
          }
        </div>

        <div>
          <div class="qty-box">
            <button onclick="changeQty(${index}, -1)">‚àí</button>
            <span>${item.qty}</span>
            <button onclick="changeQty(${index}, 1)">+</button>
          </div>
          <div class="item-price">‚Çπ${subtotal}</div>
        </div>
      </div>
    `;
  });

  totalEl.innerText = "Total: ‚Çπ" + total;
}

/* ===============================
   CHANGE QTY
=============================== */
function changeQty(index, diff) {
  cart[index].qty += diff;

  if (cart[index].qty <= 0) {
    cart.splice(index, 1);
  }

  localStorage.setItem("cart", JSON.stringify(cart));
  renderCart();
}

/* ===============================
   PLACE ORDER (WHATSAPP)
=============================== */
document.getElementById("orderBtn").onclick = () => {
  let msg = "Order Details:\n\n";
  cart.forEach(item => {
    msg += `${item.name} √ó ${item.qty}\n`;
  });

  window.open(
    "https://wa.me/917093187617?text=" + encodeURIComponent(msg),
    "_blank"
  );
};

renderCart();
</script>

</body>
</html>
